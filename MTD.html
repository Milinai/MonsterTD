<!DOCTYPE html>
<html>
	<head>
		<title>Monster TD</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<style>
body{
	margin: 0;
	font-size: 0;
}
canvas{
	margin: auto;
	max-width: 100vw;
	max-height: 100vh;
	display: block;
}
		</style>
		<script>
var maparray = [
0,6,4,4,5,0,0,0,0,0,0,0,0,0,0,0,
0,2,0,0,2,0,0,0,0,0,0,6,4,4,5,0,
0,2,0,6,1,0,6,4,4,4,4,1,0,0,2,0,
0,2,0,2,0,0,3,5,0,0,0,0,0,0,2,0,
0,2,0,3,4,4,4,1,0,0,6,4,5,0,2,0,
0,2,0,0,0,0,0,0,0,6,1,0,2,0,2,0,
0,3,4,4,4,5,0,0,0,2,0,6,1,0,2,0,
0,0,0,0,0,2,0,6,5,2,0,2,0,0,2,0,
0,0,0,0,0,2,0,2,3,1,0,2,0,0,2,0,
0,0,0,0,0,2,0,2,0,0,0,3,4,4,1,0,
6,4,4,5,0,2,0,2,0,0,0,0,0,0,0,0,
2,0,0,2,0,2,0,3,4,5,0,0,0,0,0,0,
2,0,0,2,0,2,0,0,0,2,0,6,4,4,4,7,
2,0,0,3,4,1,0,0,0,2,0,2,0,0,0,0,
2,0,0,0,0,0,0,6,4,1,0,2,0,0,0,0,
2,0,0,0,0,0,0,3,4,4,4,1,0,0,0,0
];

class Game{
	constructor(){
		this.renderer = new Renderer();
		this.floormap = new Map(maparray);
		this.blockmap = new BlockMap();
		this.scale = 32;
		this.mx = 0;
		this.my = 0;
		this.selectedblock = 0;
	}
	tick(){
		for(let i = 0; i < this.map.width; i++){
			for(let j = 0; j < this.map.height; j++){
				this.renderer.addToBuffer(new Ground(this.map.array[i + j * this.map.width]).texture, i * this.scale, j * this.scale, 0);
			}
		}
		this.renderer.render();
	}
}
class Renderer{
	constructor(){
		this.buffer = [];
	}
	addToBuffer(image, x, y, rotation){
		//if(image.length > 9){
			this.buffer[this.buffer.length] = [new Image(), x, y, rotation];
			this.buffer[this.buffer.length - 1][0].src = image;
		/*}
		else{
			this.bu
		}*/
	}
	render(){
		for(let i = 0; i < this.buffer.length; i++){
			ctx.drawImage((this.buffer[i][0]), (this.buffer[i][1]), (this.buffer[i][2]));
		}
		this.buffer = [];
	}
}
class Map{
	constructor(array){
		this.array = array;
	}
	get width(){
		return 16;
	}
	get height(){
		return 16;
	}
	get size(){
		return 256;
	}
}
class Ground{
	constructor(type){
		this.type = type;
		this.texture = this.type === 0 ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAAAPiSURBVFhHjZfXTiwxEETnS+EFgRA557hkWHIO3zpXp6Vj9Roj3YeSPR6PXV0d7On29/f7xcXF/vT0tD88PAwsLCxEu7a21r+9vZXxGru7u6V/cnLS39/fj7zf2NiIlnUcY5/83G1ubpYHwYc7OztB7OnpqT86Ourf39/7y8vLeM8i09PT0X94eBj5NuPl5WXkWWNvbm7iGdIdA2zmpO3t7dIH9SJia2sr2vn5+TJ2dnZW+uL6+jra9fX1MpbndQcHB0W6u7u7aKempqLF0r29vTIZcldXV9G3reGGGaurq6X//f0dz6iMsp0bIGX26V+ARFYsg9hpuVTp6U9MTET7+PgYbff6+hqd4+PjHjUMRp6Rl/Z/iNU4Pz9vjmegRKdkOQtaWFpaKi4SbrKyshI+zu7iXZ0VYDAYRKtbuvwSzM7Olr6W4ytkNPJrXFxcRGt0t4C69lUdBAE2cABraM1h4RyYsxjpyTPZ4DcAknkzo1+S+D6755cCQpewGEGndMhsQGWwgcFJIErKddw0uwkUAuZ1rlLUAD7Eihzddb5TUOwb3YC4sa+ic3NzI4oFAaqcA6QZm2aZgApAVDkBhPMzcYBqGpQh0ezeIJAtEDkugPLmogKQuCari6gLfFeTwZiPj4/oFxdohfJmAshmH5gdLLy8vFwk/atAAeqJfdVkjyjFvsjgg0wiy8xGKNGqHRxYuDFbPRwOo82+B3EY5YEMFsoVkOjNVgB8WUe1BOjXbszwLCkE9GPOghbqDUGOdnF7exttno+KjosOeUiz8fHxXydclr2GVtbwsBGoIAncNjMzE33VLAogHZMNJOWXFOMQIuha5wJ4fn6Oti7JxJkbE+SsZeyNxADpYyHJtxbaOv0y8h2h5aJadkBhw5Ag0LJG+E7JUKBVioFuwaVGPpicnPyV3hoYBLI/OZ7raxjpUxcbNjCfa7ROxdZNCRQX8FGrfHLqKSEbokROx/oGpAtyNlERc0CjkOQLAaTmzPe5BW/FAlUcyyr+dZHN0LUdPiV4iEz9RoHBSgiZFfhO1lY0rMpyZ2VyuXaMuaxDYLMGV76iAERoVQEpvblAzPfcammBp1reJCvBJj47x2D02yCQJSPdPj8/o847yVuNgWhMMJ6vcBl+04L14uvrq+9gyeTWwZIlFf62iTouIK3EVkWKztjY2Mg8gMKhgD4VdTHBn0R7/gsCxonPKibyOmZFXe677DNRX7mERcS+5bSejwuJct4TeLrO+QLDShDKvrbeLGBBcxlrfn5+ol8XHV2Sq2X+w84nJ8Q7Dgn9jzxIaroZSFqeydXBJzkNMaVrt2UMh8P+HyS/+wVXfMLRAAAAAElFTkSuQmCC" :
		this.type === 1 ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAAAQxSURBVFhHjZdXTyQxEITn/8EDQoicM0uGJeccxAJCCET6rT59fSpfT+OV7qFkj8fjri53tz3V8fFxWltbS1dXV+n09DTNzs6mgYEBa0dHR9Pe3p71S5iamsr9RqORNjc3a+/HxsasZR2NYWdra8tsgWp3dzc/iAAfTk5OpsHBwbS9vZ3m5ubS/v5+WllZsfcY6+npsX6z2cyLR+zs7NSeZ2ZmzNmHhwezdXl5mSoGDg4OMgEM+4/iIsLExIS1/f39eWxxcTH3hdXVVWulAjaur6+zverk5CQ9Pz/bw9PTk03q7u62Fk+np6etDyAnFdRGyKDHyMhI7n9/f5tqOHZ2dpYqGWDQ72k7QCKqJBA74+Pjv8aRnu2kjz2cfXl5+asAMcCL+fl5a/Faz8hL+z/EIpaWlorjkh7gdCXJZLgd8GBjY6M2JiPDw8O2x367eBezAlxcXGTjpkCc0Nvbm/vynCxARkV+xPLysrUEdHwXgdG3t7esghHAgCbgDa1yWNAcBRTpSUs26BsQSSr6RZK9v7m5qRMowW8JQbewsGB9ZFZAeWBAwUkgipTW0XYdHR1l4zUCymtftUgVPmTMR3fMd0+WKqe+JypFIUps1AhQ5TQRLzAqxoIUgKjkBJDzz4oDOeQBUYziWI1AKQN8XADJ64sK4NtIVp5TF/jOk8EomfDx8fGPAJAXktcT6Ovry32g7GDhoaGhvN8iWYLqjAjQWiWMEwU+8CS8zBhCiZJylOjo9fr6urUQxbBgh5EmRbCQr4BEv7wQCCxffIAI0I/bCGT8/v7e2kxA++izoIRoEJTSUlXTz0fFx8fHTMIIIA9GOzs7f51wXvaIdvvd1dVVe0YFkWDbiDEMn5+f1xXAOJO1sOQXKcYhRNCVzgWg6lgqySrx3AW4f3ANqBEALKxCokUUaDH9PESStrRFnqyk5xRGfSNQ8kbQOwWgFPBzBKnHliryARccpTepBwFdy4yA30+O53gNI31iscGAqmNEaQt07EsBIW8BH5XKJ/sqFTCIEj4d4w1IW+CziYqogMYoa6oYZQIY4czXcwkxS1DFB6nG211kgTzn/mkE2FMWYQHtGwUGLyGkhckQSa7Si1debq+ML9caYy4xQAXkRMRuVgAitFIBKXVfhJjec57TAh2x3ohXAqJ61hxdyXUiGgEvGelGnpJ+MqD9VCAqJhj3VzgPHwMeGH19fbX26+srVbBkculg8ZIK+m0TYlxAmrVY11fFjo4OazEscDes6PgbCojXpsPDQ9sOjPlxyin/lnr2Fw3g19H/oA4hoeI25AeA/3XyUBFRX+U0zv/8/LQo5z0FR5dQzRdwzBQAYh+9138jC97e3lofb35+fqyviibc3d1ZS8Rr7P39PfcJaPUhXlEi9WuOPEiqIkHBoJXnnhwBqT4QOTnSarWsjdvm0Wq10h/zyBLfDaooLAAAAABJRU5ErkJggg==" :
		this.type === 2 ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAAARBSURBVFhHjZfXTi07EETn/3hBCJFzzjnnnDdJgEDwrz5afVW+NT6DdB4Ke7xtd7m7um2qo6OjtLKyki4vL9PJyUmamppKvb290Q4NDaXd3d3oN2F8fDz35+bm0vr6eu334eHhaNlHY9jZ3NwMW6Da2dnJHyLAwrGxsdTX15e2trbS9PR02tvbS0tLS/E7xjo7O6O/sbGRNy+xvb1d+56cnIzDPjw8hK2Li4tUMbC/v58JYNgXlZsIo6Oj0fb09OSx+fn53BeWl5ejlRewcXV1le1Vx8fH6fn5OT6enp5iUkdHR7ScdGJiIvoAcvKC2hIy6BgcHMz9n5+f8BoHOz09TdXh4WEYf3l5SQcHB7WFTYBE6SUB7YyMjPw1jusJJ30OhL3X19f/PPDx8RGds7OzhDc4NRNnZmbCvbQutn/FwsJC4zi2BDxR3d/fx4dnQRM4wdraWm1MRgYGBiLGHi5+K7MCnJ+fZ+O0FX8cXV1debJOThbgRim/xOLiYrQIuvytBDbkdRAEEIMGOA0TlcMCJGglKNKTlmzQGlCSlPpFkthfX1/XCTi0UFoAiG52djb6uFmCcmBA4kSIIqV9FC6JXsgEqHi0XrVIFRYy5uou893JUuXUd6LyKETRRo3A5+dnHuAUGBVjQR7A5XIngJx/SwcqVA6IYoODyV4QoCRqQJMVc0Hu9aIC2LQkq5NTF1jnZLBBJnx9ff1PANzc3EQr9zqB7u7u3AfKDjbu7+/P8RbJJlBPaEWANiohxUckgC9wEu5mDOEJj71AiS5Pvbq6Gi1E3VZcRj4AfCOvgKhfpxAQlhcfIAL0yzAC2bm7u4s2E1BuehY0oTQImtJSVdPn48XHx8dMAlStViuKCqeBlSZrgX87fot3e3t77RsviARhQ2MY5u4JAmJye3sbotDGcr+uXcYhhOia7gWg6thUklXieQvw/pD2ahpgoQqJNpHQyvRziCRtU4icrGzxEkOcQYCHiH7whUCLJUB5wOcI8h46kvIBDxylt+4dPcuCAO89EeBFUz7DSJ+y2GBA1bFEUwj0UpIdIYcARk0vYOIqL2AQT3g6li8ghcCziYooQWOLPVWMMgHCwBNdi5qgWAt4xUWq8d8essDtBQFOR/qhTFKSSaQkp+QRoo1JJ7lcpZdTubvdM16uNcZcNEAF5EaEfPYARGgxymRciVLpE2/ER5/7XBvqinUj7gmI6ltz9CTXjRgE3t/f4wOQbniD9JMBxVNClCYY9yec47eKio23t7dov7+/U4UrEEXTo9RdKujfNqHUBaQhz+m9Kra1tUWrgwLehuEBf6EwqSwmxBO1+39BQDrRtzwm+D7yiC4hofIaAJjU9C8W8NvN++V8QqgwITyvIW6Lf4SyCCWK8vQSERsqlzmNUrYsOgqJV0uvLwhaNhFkBXvFH/fgUqWb3KbTOrlSfCKnMKgUl2GTcdBqtdIfwlMTAPaWzX0AAAAASUVORK5CYII=" :
		this.type === 3 ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAAAQoSURBVFhHjZfHTi0xEETn/9gghMg555xzzlfAgiAE3+qn01JZdY2R3qJkj+1xl6vDeJqTk5O0traWrq+v09nZWZqZmUn9/f3RjoyMpP39/ejXMDk5mfsLCwtpc3OzbX50dDRa9tEYdra3t8MWaPb29vKDCPDixMREGhgYSDs7O2l2djYdHByklZWVmMdYd3d39Le2tvLmJXZ3d9uep6en47BPT09h6+rqKjUMHB4eZgIY9pfKTYTx8fFo+/r68tji4mLuC6urq9FKBWzc3Nxke83p6Wl6eXmJh+fn51jU1dUVLSedmpqKPoCcVFBbQgYdw8PDuf/9/R2qcbDz8/PUHB8fh/HX19d0dHTU9mINkChVEoidsbGxX+NIjzvpd3Z2Rksc0Dbv7+9B4OLiIqEGp2Zibm4u5KX1YPtfLC0tVccdKNM8Pj4GAc+CGjjBxsZG25iMDA0NhY/dXcyVWQHm5+ejlVsajDp6enryYp2cLEBGRX6J5eXlaAnocq4GMk/9IEAwiACnYUI5LECCVsxJT1qyQe+AkqSiXyTxvbvnlwKaUCwAgk7SIbMCyoEBBSeBKFLaR0bdTSAToOLRetUiVXiRMY/uMt+drKIbOFEp2tvb26ZYEPj8/MwKcAqMukxACiC55ASQ82fFgQqVQ0TdvUGAkigCmpDPBcnrRQWwaUlWJ6cu8F5JhsNQfelnF9zd3UUreZ0AsqkPlB1sPDg4mCUVyRqoJ+pLTWxEKRYJ4C84CZcZQyjhvhco0eWp19fXo3XfA97/MwvYyCsg0eunAPiyjGoRoF+60aFvSSZwe3sbrWdBDaVBUEtLVU1fj4plNW1arVYUFU7z8PDQNumyl/jL3/rYCKggErhNlVZqZgXu7++jImpjyS+pGIcQQVf7LgBVx1pJlmGC3Mm3xQAvqpBoEwVamX4OkaStuahGlsLGQYIAFxGRKBfqZUkmBXyNoJMRR4p8wAWnTG8dMAhw3xMBbjTlNYz0KYsNBpTPJWouqN2UQHYBF8XaDRi/SgUMooSnY3kDkgs8m6iIHtDMiXwmgBu4omtRDfK1gCoepBr/6yLr0KEaOqQftZmUZJCU5JRcQrQxvhNrVTRO5XK7Ml6uNcZa9iGw2YMrX1YAIrQYZTFS6uaCvwk++lxitaG+am7ElcCInrVGwah3g8Db21sYB6QbasBSi+RPBaLkY9yvcA6PgRKqF9zCGy6ODNQupS6poN82oYwLSEtir4odHR1t6wAKhwKQkAJA/woCTFmMMR/nKk/g6png83nfR/+DxJvGQOM1QPBfJ4dfXunrU16u//r6iqxinvTWh6789IcL9CD25en138iGurRwmp+fn+jrR1Pgm0JLxGvs4+Mj9wlo9SHeEJXyP/Ig6eXlZTwTG7Q6uZMjINUHIqeDkNK0pdscrVYr/QP0lxL3NySOcAAAAABJRU5ErkJggg==" :
		this.type === 4 ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAAAQISURBVFhHjZfnSjVNEIT3/vSHiJhzzjnnnA8qIorote7L01BD7Tjn4/tR9OSuqe6Z3alOT0/r9fX1+ubmpj4/Pw+sra2F3dnZqT8/P1N7juPj41S+vr6uX19fG/17e3thWUdt+PF6tb+/nyoCE4+OjoLY+/t7fXFxUX99fdUPDw/RzyILCwtRfnt7a8x1fHx8NOra7PPzc9QhXdGAMw06PDxMZZAvIhwcHIRdXV1Nbbe3t6ksPD09hd3d3U1tPq46OztL0r28vISdm5sLy05PTk7SYMg9Pj5GWTaHHDq2t7dT+efnJ+qojLLV9PR0PTs7G41TU1NR/i9MTk4GSn0DAwP1+Pj4n/aZmZl6cHAwyl1dXWHJA2zkAIX5+fmwi4uLqd7f3x/2/xDLsby8XGx3jIyM1BUZT0WO24EdbG5uNtrkZHh4uB4dHa2lpvq2trZSXSB5sTjHVt4Jent7U1k7JyeQsaenJ/U5VlZWwpLQeV8JUh0EARyogd1gx8bGUhvQGDEnq7ETExNpDshJogxWJIm9h+ePAoKHhKSTdMishHLgQMlJIoqU1pFTDxNIBNgJVowBR4WJtHl2Ly0tpTJwsspu4ESlaF9fX0OxIMD5VgO7wKnLBKQARCUngJzXlQfakENEPbxBoHQCPC+A5FUOCMzNyWrn3AvMy8mwGW5fyikE2oXkdQLIpjLQ6WDhoaGhJKlIlqB7BkhNfLRNQiY4CZcZRyhRUo5vQ77rjY2NsB57wPy2BFjIb0Cy13cBiGWe1SJAOQ+jg3HYREBx9FNQQu4QlI6lbk0fj4r5bVohD047OzsTK8Flz9Eu3vrYCKggEoRNN63UTArgnMFaWPKLFO0QIulK3wWg27F0JcsxSe7kGznAwrpItIgSLT9+DpHElkJUIsvFhr8gUBogqE+SSQEfI2hnhFSZD7q7u/8cb20wCLgkfJ65glUHHJ/8ssGBznOOUgj02c+RQsCk0vVJXKUCDlHCj2P+B6QQ+GniRvSEpk/kEwGc8M1XvYT8lKCKJ6nacwVL0KYqYsoiLKC4ccGwSwhpYWIn1rrR2JXL7cr4da02xrIOic0a/PIlBSCClQpIqT8XiKmfv2Qs0FfNnbgSOFFdY5SMmhsEXDKOG18qWGqQ4qlElHy0+y+cw3Mgh+4LXlYVLBlc+rC4pAIJ5fU8LyAtif1W7OjoaIwDKFzxWODvVQ8H4I8RAFMG48zbLy8v47mlOkp6v6+j92D+oKnypxgoPbEALxkv86qinI///v6OVxb9vAPv7u6iXeOFCIEqYp/vXu9GFry/v48yu/n9/Y2yHpqCHrBkvNr8hU1CqwzxiqzU0xx5kPTq6irqelBq506OhFQZiJw20mq1wuZhc7RarfofTcwS00uT0y4AAAAASUVORK5CYII=" :
		this.type === 5 ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAAAQjSURBVFhHjZfVbihJDETn/5KHKIrCzMzMHIWZlPzrXB1L5fV4+672oeSmaVebuqc6PDysl5eX64uLi/r4+NiwtLRkcmNjo/78/PTxjP39fW+fn5/XT09PjfmtrS2T7KMx9MR+tb297R2BD/f29ozY6+trfXJyUn99fdXX19c2zyYzMzPWfn5+bnwb8f7+3ujrsHd3d9aHdMUAyrRod3fX2yBvIuzs7JhcXFz0scvLS28Lt7e3Jjc3N30srquOjo7cdI+PjyanpqZMctKDgwNfDLmbmxtrS2ZIYcT6+rq3f39/rY+VsWw1Pj5eT05O2uDY2Ji1/wujo6OG0lxPT089PDz8r/GJiYm6t7fX2uiDyMvLi0mLASamp6dNzs7Oer+7u9vk/yGWMT8/XxyXJQCHroh4JqT4b+AEq6urjTEp6e/vrwcHB+10cW5tbc37wtnZmSs3C+QFnZ2d3tbJiQnM2NHR4XMRCwsLJgnoPJeB0o+PD7eCEUCBFnAa5NDQkI8BrRkYGDBJVCNHRkb8G5BJYhmkSOL7q6urJoESoksIOvKeNmZWQEWgQMFJIIqU9pG7YlY1CHASpBgDUoUPGYvRPTc3520QyVLl1I5EZVGIEhsNAuS3FnIKlIqxIAtAVOYEkIt9xYEOFAFRlKpEO4FSBsS4ADKvYkDg20xWJ6cu8F0kg1Iy4fv7+x8CQKeQeSOBrq4ubwNlBxv39fW5v0WyBNUZEUBaJcwLBT6IJKKZUYQlSpbjbsinXllZMQlRFAt2GWlRBhvFCkj06xQCgRWLDxAB2tmNQMp1lzgB+TFmQQlZISilpapmXI8VHx4enIQRwDwobW1tNfZarA9iP+Jv/m5ra2v0sYJI4DZiDMWnp6dNC6CcxdpY5hcpxiFE0JXuBaDqWCrJKvG8BXh/8AxoEABsrEKiTRRoOf0iRBJZclEkK9NzC2N9I1A6jaA5BaAsENcIsh4uVeSD9vZ2T29SDwJ6lhmB6E+uZyqV+oD0ycUGBaqOGSUX6NqXBQR3AR+Vyid+lRVQiCViOuYXkFwQs4mKqIBGKXuqGDkBlHDnq19CzhKsEoNU49mCETq53p8VPmUTNpDfKDCcEkLamAyRyVV6OVU0d7RMLNcaYy0xQAXkRkSvWwAiSFkBU+q9CDHNc58jga7YqCRaAqLqa42e5LoRjUA0GelGnpJ+UiB/KhAVE4zHJ1xEjIEIlL69vZn8+fmpK1iyuHSxRJMKBFTs57iANHuxb6yKLS0tJlEs8DasaMQXCotyMcGfRDvP9DiuOFFfFhPiPrJI/qGp8q8Yi/KTS4i3W2zn9bhQbiLwYg2Juvi5NQsABUU+vYKIDZXLnIYfTdq56MglsVryH6k2AS2dBGQFe/2aYx5MqnST2XTaSC4Hn8jJDUrp7DYpB/f39/UfG4gS3AhLLbUAAAAASUVORK5CYII=" :
		this.type === 6 ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAAAQSSURBVFhHlZfXSiVBFEX7/3wREXPOOeesmPWiIoYH/7WHVbCK02XPwDxsTnXFXfuEW7c6OzurNzY26pubm/ri4iJhfX092d3d3frr6yv3lzg5Ocnt6+vr+vX1tTG+v7+fLPvYxznxuzo4OMgfgoXHx8eJ2Pv7e315eVl/f3/XDw8PaZxNFhcXU/vt7a2xNuLj46Px7WWfn5/TN6QrOjjMSUdHR7kNyk3E4eFhsmtra7nv9vY2t8XT01Oye3t7uS/Oq87Pz7N0Ly8vyc7PzyfLTU9PT/NkyD0+Pqa2toQHRuzs7OT2z89P+kZllK08ACnx6dzc3D8xNTWV0DY2ODhYT0xM/OqfnZ2th4aGUru7uztZ4gBbfX5+JgJXV1c1aiwtLaWBhYWFemBgINnp6enU9z9YWVlp7Y8YHR2tKyUzC9omAm6wtbXV6POQkZGRemxsrJ6ZmWmMbW9v529B8GI5HFtxaERfX1+e7M2JCWTs7e3NYxGrq6vJEtDlWBvIPNuJAMEgAW7DwPj4eJ4EIIGVOVGNnZyczGtASRJlsJLE99E9vxRwwFgABJ3SIbMBFcEBBieBKCn38dDoJpAJmNcyBqQKC+mL0b28vJzbIJI1ukEkqqL9/f0NxRIBqpxEuAWHRpmACiC5cgLIxW/jgHn2CYlG9yYClEQJOKDPhfIaA4JNS7LenLrAupIMl6H60s4uuL+/T1Z5IwFksw3MDjYeHh7OkkqyDdQT26rJGakUSwLEBZFElJmDUCL6XvDbUN56c3Mz2eh7wPq/ZgEbxQpI9MZbAHxZRrUEaJdujGAeNhO4u7tLNmZBG8oDQVtaWjXjfFQsq2nV6XRSUeE2/MLFwSh7ib/52x8bgQqSwG1WWtXMCvDYoCK6sfIrFf0QIujafheA1bGtJHswQR7JN2KAhRYSNzHQyvSLkCS2zUVtZClsXCQR8CECyokuVjIViHOENyOOjHzQ09PzK729YCIQn2E8SCnBLgakT1lsOMB8LtHmAvYt+0B2AQ9Ffg/KCfhVFTgQJWI6li8gXRCziYoYA5oxyWcCuIFXq5PaoK8FqsQgtb9UsA1eqqJB+lGbSUk6SUluySPEjfGdrK1o3CrKHZWJ5do+5rIPgc0ePPmyAhDBciiTkdKXC/4m+GjziHVDf9XiIVEJDvHbOQajaxOB+PYn3VADlk7Snwai8tEfn3ARMQZKWC94hVc8HOloe5RGSQUBFb/LuIC0Eseq2NXV1ZgHUDgpAAkVYKAsJviTaMdnsd848VvFRNxHRco/NFX5V4xJ5ZNLxF+32C7n40LdRODFGhLPSi7wg9TBlrc3iNjQXOY2pmxZdHRJrJaxvhDQnsl/xAr2+h95kNR0UzZvG8mVwSc53WApLt3m4aDT6dR/ABxXEvRZv1yCAAAAAElFTkSuQmCC" : 
"data:image/png;base64,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";
	}
}

class BlockMap{
	constructor(){
		this.map = [];
		for(let i = 0; i < game.floormap.size; i++){
			this.map[i] = new Block(0);
		}
	}
	placeBlock(block, x, y){
		
	}
}
class Block{
	constructor(type){
		this.id = type;
		this.texture = this.id === 0 ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuM40k/WcAAAANSURBVBhXY/j//z8DAAj8Av6IXwbgAAAAAElFTkSuQmCC" :
		this.id === 1 ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAAAPiSURBVFhHjZfXTiwxEETnS+EFgRA557hkWHIO3zpXp6Vj9Roj3YeSPR6PXV0d7On29/f7xcXF/vT0tD88PAwsLCxEu7a21r+9vZXxGru7u6V/cnLS39/fj7zf2NiIlnUcY5/83G1ubpYHwYc7OztB7OnpqT86Ourf39/7y8vLeM8i09PT0X94eBj5NuPl5WXkWWNvbm7iGdIdA2zmpO3t7dIH9SJia2sr2vn5+TJ2dnZW+uL6+jra9fX1MpbndQcHB0W6u7u7aKempqLF0r29vTIZcldXV9G3reGGGaurq6X//f0dz6iMsp0bIGX26V+ARFYsg9hpuVTp6U9MTET7+PgYbff6+hqd4+PjHjUMRp6Rl/Z/iNU4Pz9vjmegRKdkOQtaWFpaKi4SbrKyshI+zu7iXZ0VYDAYRKtbuvwSzM7Olr6W4ytkNPJrXFxcRGt0t4C69lUdBAE2cABraM1h4RyYsxjpyTPZ4DcAknkzo1+S+D6755cCQpewGEGndMhsQGWwgcFJIErKddw0uwkUAuZ1rlLUAD7Eihzddb5TUOwb3YC4sa+ic3NzI4oFAaqcA6QZm2aZgApAVDkBhPMzcYBqGpQh0ezeIJAtEDkugPLmogKQuCari6gLfFeTwZiPj4/oFxdohfJmAshmH5gdLLy8vFwk/atAAeqJfdVkjyjFvsjgg0wiy8xGKNGqHRxYuDFbPRwOo82+B3EY5YEMFsoVkOjNVgB8WUe1BOjXbszwLCkE9GPOghbqDUGOdnF7exttno+KjosOeUiz8fHxXydclr2GVtbwsBGoIAncNjMzE33VLAogHZMNJOWXFOMQIuha5wJ4fn6Oti7JxJkbE+SsZeyNxADpYyHJtxbaOv0y8h2h5aJadkBhw5Ag0LJG+E7JUKBVioFuwaVGPpicnPyV3hoYBLI/OZ7raxjpUxcbNjCfa7ROxdZNCRQX8FGrfHLqKSEbokROx/oGpAtyNlERc0CjkOQLAaTmzPe5BW/FAlUcyyr+dZHN0LUdPiV4iEz9RoHBSgiZFfhO1lY0rMpyZ2VyuXaMuaxDYLMGV76iAERoVQEpvblAzPfcammBp1reJCvBJj47x2D02yCQJSPdPj8/o847yVuNgWhMMJ6vcBl+04L14uvrq+9gyeTWwZIlFf62iTouIK3EVkWKztjY2Mg8gMKhgD4VdTHBn0R7/gsCxonPKibyOmZFXe677DNRX7mERcS+5bSejwuJct4TeLrO+QLDShDKvrbeLGBBcxlrfn5+ol8XHV2Sq2X+w84nJ8Q7Dgn9jzxIaroZSFqeydXBJzkNMaVrt2UMh8P+HyS/+wVXfMLRAAAAAElFTkSuQmCC" : 
		this.id === 2 ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS4xYyqcSwAAAaVJREFUWEfdkMFtxDAMBK80l3KlGKkh/3STTvJPBw4ocBiaXkk+x68YGOMgkbtzfjzet+3A29eOZVkuUXNkV/wowyoQns+nRM1Czd8L+KFaNFTZuq471IzKMnYSCKjBHFYLZ+RdlT0V6BWHfYc635No803AF/NlLWcmsEVFmRtJxJy98kW3XBWO8L2phL1uLwff70m0e3tlgdvKwXOyhBTA7tZy8DwEkGjn2FAeAioIPjuoWXABJOh9TSCXfRfyndo9K9DKRwKp9MPJZyMBJA4CdrATUAH8Oy9VhMBAAgEkQsAupgJeYmX1CQFjIoDEJQH+bX04//8CSNQnyo0rAkgMBcpXqET5RIC+EMhfoQmc+ApZJJ+NyrMAvQeBU1+hiEQxqF0v/5sA5LKMmoWegF0ggEQTmEm8gudRjkA7txc2CNwq4TnkUt4VuFXC93P5UOBWCd/rlRtthsF80ZUAVWiUuWm5wWK+NKoExGKHOq/KjTZv3T0Bg2UlMiPvquyDQE/CyGEwKgSVZdD3K5AkQC2CKjPULNT86I0fmTKsAs9Qc45d2/YDGkOVGEqOersAAAAASUVORK5CYII=" : 
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS4xYyqcSwAAAYlJREFUWEfdldFtg0AQBSnLn7TgDiiFetxUvlIHyTqe0/J43F3ISZGMNJIFezsDP562adqUD2Ge50voHucqATrsFsKyLBY3C7p/F8BNdzBwsnVdd7gZtyvIESXADeZlKmyRz7rdzYAz8ef3bA2dP4soAfFDA1Sukjjo0LlaBN5nQH5wJnfCGr0Ru4BRcmhF2IBRcnARNoC6kXLIEXhKADXICXCLCrebx82+IIAIvL8LyLL7fU9+Zs52B8RgNSBLH48f8r1KABGHgLiRA9yC8nZZrBBQiSCAiBIQD5oBvGXI9CKACLODACKuBfC2enH//QOI0Av51QAiqgH6FRTkjQB8JSB/hRjq+go5JN+ryHMA3kNA11fQEMRgziL/WwBkWcbNvjgN+Pc/IwKIoHJURJYTgM8GjIxw8mrAyIiWPCgBvRHghIHOteTPgDioAYFGgEoUnXfyIJzhPg0IOOxCWuSzbvch4CwiyMugJgS3K8BXAnIEuIPgZIGbBd2PtwRkdNgt7EH3HF3T9gUNoXJtl4IqHwAAAABJRU5ErkJggg==";
	}
}

var game = new Game(), ctx;

setTimeout(function(){
	ctx = document.getElementById("can").getContext("2d");
	document.getElementById("can").onmousemove = function(){
		game.mx = event.clientX - document.getElementById("can").offsetLeft;
		game.my = event.clientY;
	}
	document.getElementById("can").onclick = function(){
		if(game.mx <= game.scale * game.floormap.width && game.selectedblock !== 0){
			game.blockmap.placeBlock(game.selectedblock, Math.floor(game.mx / game.scale), Math.floor(game.my / game.scale));
		}
	}
});
setInterval(function(){
	game.tick();
}, 20);
		</script>
	</head>
	<body>
		<canvas id="can" width="840" height="512"></canvas>
	</body>
</html>
